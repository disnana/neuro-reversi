# NeuroReversi v3 開発提案書：神速の思考領域へ

## 1. プロジェクト概要
**目標**: ブラウザ上で動作する「世界最強クラス」に肉薄するオセロAIの開発
**コンセプト**: **「WebAssembly × Bitboard」** による圧倒的な演算速度と、深層学習ではなく**「高精度パターン評価」**による人間超越。

---

## 2. 技術スタック刷新 (v2 → v3)

| 機能 | 現行 (v2.2) | **次世代 (v3.0)** | 期待される効果 |
| :--- | :--- | :--- | :--- |
| **盤面表現** | 2次元配列 (`board[row][col]`) | **Bitboard (64bit整数)** | 演算速度 **100倍** (処理を同時並列化) |
| **演算エンジン** | TypeScript (JavaScript) | **Rust + WebAssembly (WASM)** | ネイティブ並みの速度 (JSの限界突破) |
| **探索アルゴリズム** | Minimax (αβ法) | **Negascout / MTD(f)** | 同じ時間で **+4手** 深く読める |
| **局面記憶** | なし | **Transposition Table (置換表)** | 同じ局面の再計算をゼロにする |
| **評価関数** | マス目の重み付け (単純) | **パターン評価 (NGSなど)** | 人間の直感を超える「形」の理解 |

---

## 3. 実装ロードマップ

### Phase 1: コアエンジンの爆速化 (基盤)
- [ ] **Bitboard実装**: 盤面を「0と1」のビット列で管理。フリップ判定をビット演算一発で行う。
- [ ] **WASM化**: 計算部分をRustで書き直し、WebAssemblyとしてブラウザにロード。
- [ ] **高速化**: 1秒間に読む手数を「数万手」から「数百万手」へ引き上げ。

### Phase 2: 頭脳の高度化 (戦略)
- [ ] **置換表の実装**: 過去に考えた局面をメモリに保存（ハッシュ化）。
- [ ] **定石導入**: 序盤の数手は「Edax」などの最強ソフトの定石データベースを利用。
- [ ] **終盤完全読み切り**: 残り14～16手から独自の高速ソルバーで「必勝ルート」を確定。

### Phase 3: UI/UX (体験)
- [ ] **思考の可視化**: AIがどの未来を予測しているかをヒートマップでリアルタイム表示。
- [ ] **解析モード**: ユーザーの打った手の「悪手度」を瞬時に数値化してフィードバック。

---

## 4. 期待されるスペック比較

| 項目 | v2.2 (現在) | **v3 (完成形)** |
| :--- | :--- | :--- |
| **NPS (1秒あたりの探索数)** | 3万局面 | **300万～1000万局面** |
| **探索深度 (中盤)** | 4手 | **14手～20手** |
| **終盤読み切り** | ほぼ不可 | **残り20手から完答** |
| **強さ** | オセロ上級者に苦戦 | **有段者にも9割勝てる** |

---

## 5. 結論
Egaroucidと同等の速度を出すには **「ブラウザの限界（JavaScript）」を捨てる（WASM導入）」** が必須です。
これを行えば、EgaroucidのWeb版には勝てる可能性が高い、**最強のWebオセロアプリ**が誕生します。
